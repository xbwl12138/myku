<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>用户中心_3CE官网</title>
    <link rel="stylesheet" type="text/css" href="css/login.css">
</head>
<body>
<!--header-->

    <header>
        <div class="header_top">
            <div class="header_box">
                <div class="header_left">
                    <a href="#">
                        <img src="img/logo.gif">
                    </a>
                </div>
                <p>如已注册，&nbsp;点此<a href="#">登录</a></p>
            </div>
        </div>
    </header>

<!--login-->

    <div class="login">
        <div class="login_center">
            <div class="login_box">
                <ul>
                    <li>新用户注册</li>
                </ul>
            </div>
            <div class="form_box">
                <form method="post" action="regSave.php">
                    <input id="userId" name="userId" type="text" placeholder="手机">
                    <input type="text" placeholder="短信验证码">
                    <input type="button" value="获取验证码">
                    <input id="userPass" name="userPass" type="password" placeholder="密码">
                    <input type="password" placeholder="确认密码">
                    <input type="checkbox" checked>
                    <span>
                        我已看过并接受《<a href="#">用户协议</a>》
                    </span>
                    <input id="btnLogin" type="submit" value="同意协议并注册">
                </form>
            </div>
        </div>
    </div>

</body>
</html>
<script type="text/javascript" src="js/regExpTools.js"></script>
<script type="text/javascript" src="js/cookieTools.js"></script>
<script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="js/login.js"></script>
<script type="text/javascript">
    window.onload = function(){
        // 注册跳转界面
        $("#btnLogin").onclick = function(){
            let xhr = new XMLHttpRequest();
            xhr.open("post","regSave.php",true);
            xhr.onreadystatechange = function(){
                if(xhr.readyState == 4 && xhr.status == 200){
                    if(xhr.responseText =="1"){
                        location.href = "index.html";
                    }else{
                        alert("注册失败");
                    }
                }
            }
            //4.发送请求
            //如果是post的话，必须设置请求头
            xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");//设置请求头

            xhr.send(`userId=${$("#userId").value}&userPass=${$("#userPass").value}`);//键值对，要跟后端交流的，后端根据键取值
        }
    }


    function $(str){
        if(str.charAt(0)=="#"){
            return document.getElementById(str.substring(1));
        }else if(str.charAt(0)=="."){
            return document.getElementsByClassName(str.substring(1));
        }else{
            return document.getElementsByTagName(str);
        }
    }
</script>